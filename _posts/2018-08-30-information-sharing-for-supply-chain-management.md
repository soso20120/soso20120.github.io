---
layout: post
title:  Information sharing for supply chain management based on block chain technology
excerpt: 
tags:
- Blockchain
- Supply Chain

---
* content
{:toc}

## Abstract

供应链管理系统为公司提供信息共享和分析，并支持他们的计划活动。它们不是基于真实数据，因为公司之间存在不对称信息，从而导致规划算法的干扰。另一方面，在制造商，供应商和客户之间共享数据对于确保对市场变化的反应性变得非常重要。特别是，双重边缘化是供应链管理中普遍存在的严重问题。调查批发价格合同下的分散系统，在确定性和随机需求的情况下，双重边际化效应显示导致供应不足。本文提出了一种基于区块链的解决方案来解决供应链问题，如双边缘化和信息不对称等。

## Introduction

在过去，大多数制造商生产几乎所有内部产品。 但现在，价格和全球竞争的巨大压力迫使他们专注于他们的核心竞争力，如工程和最终装配，因为原始设备制造商几乎将整个制造业务外包。 这些更高水平的复杂性是制造和分销的巨大变化的结果，包括全球化和外包。 因此，独立公司管理全球供应链的不同部分。 供应链中的每家公司都制定了战略和运营目标，通过使用成本结构，利润率和预测等本地信息来最大化自身利润。 尽管信息技术的进步使公司能够收集，处理和共享信息，但由于激励机制相互冲突，公司可能不愿意这样做。 协调激励措施可以提高企业的利润并维持信息技术的使用。

在这种情况下，建立有竞争力的供应链非常重要。为了构建它，供应链中的信息是制造商最宝贵的资源之一。由于生产活动所需的大量生产和交换数据，必须确定最有用的数据，并仅关注导致供应链层面潜在改进的“战略交易”。随着最近供应链复杂性的增加，信息的协调以及运营和物流优化变得越来越困难。

我们需要讨论激励问题，以解决容量风险等重大风险失衡问题。由于不平衡，对于分散的供应链而言，容量风险的影响比垂直整合的供应链更严重。为了解决这个问题，我们提出了一种基于区块链的解决方案来解决双重边缘化问题。

论文的结构如下;第二节描述了供应链的问题;第三节提出了我们的解决方案，而第四节描述了相关的工作，结论性意见见第五节。

##### PS 
1. 分布式供应链：供应链中给每个实体成员都拥有或者部分拥有自己的决策权、目标和信息。他们在地理和信息上是分布的。基于各自的局部目标和信息进行优化决策，共同决定着供应链的整体绩效。
	1. 各成员企业都有自己的管理目标，有些目标与整体目标可能不一致。在企业追求自身利益最大化的同时，必然会与其他成员产生冲突。
	2. 各个成员拥有自己的信息，各成员间信息不一样，也就是信息不对称。信息不对称有可能导致牛鞭效应（每个组织从自己的角度解决需求和库存问题，必然引起库存水平波动）、委托代理问题、欺骗问题。
2. 垂直整合的供应链：如果一个公司原本负责某一阶段，当公司开始生产过去由其供货商供应的原料，或当公司开始生产过去由其所生产原料制成的产品时，即为垂直整合。这是企业基于利益发展得到的一种供应链整合方式。

## Problem of Supply Chain

由于产品生命周期短，生产周期长，需求预测变得越来越困难。然后，由于需求实现不足或缺乏产品可用性，供应链面临产能过剩的风险。在分散的供应链中，缺乏适当的容量风险分担会增加容量风险的成本。为了按时交货，合同制造商在原始设备制造商订单之前确保容量。对于这样的供应链，如果消费者需求变得很高，合同制造商和原始设备制造商都面临着向上的容量风险。但是，如果消费者需求变得很低，只有合约制造商面临下行能力风险。

降低各方的容量风险取决于合同协议。根据批发价格合同，原始设备制造商为订购的每个单元向合同制造商支付批发价格w，并以每单位r的价格将产品销售到市场。合同制造商以c的单位成本确保容量，这可能代表相当的年容量成本。因此，合约制造商的边际利润w-c小于垂直整合供应链的边际利润r-c。这种差异被称为双重边缘化。合同制造商通过确保容量低于垂直整合供应链的最佳容量来保护自己。原始设备制造商可以通过分担合同制造商的上行容量风险来消除分散化的这种不利影响。因此，合同制造商的边际成本为c，而原始设备制造商的边际成本为零。

为了最大化每方的利润，原始设备制造商可以同意以每单位未使用的容量偿还p。 这会降低合约制造商对c-p的边际成本，并促使合约制造商建立更高的产能，从而调整激励措施。 我们将此称为回收合同。

风险的严重程度取决于需求预测信息的不对称性。 例如，根据批发价格合同，原始设备制造商可以通过增加需求预测来影响合同制造商的产能决策。 增加需求预测并不会改变原始设备制造商的容量风险行为，但会降低其容量风险。 然后，合同制造商不认为原始设备制造商的预测信息是可信的。 根据批发价格合同，当原始设备制造商下达实际订单时，缺乏可信的预测信息共享使得容量不足。 由于预测操纵在许多行业中普遍存在，大多数制造商经常提交“幻影订单”以诱使其供应商获得更多容量。

通过对多个行业的观察，单位容量成本和预测信息不对称程度是容量风险的两个主要驱动因素。 有两种类型的合同可以实现可信的预测信息共享。

第一种合同类型是容量预订合同，通过要求预留容量费用，使原始设备制造商对其预测信息负责。 合同制造商提供此合同作为原始设备制造商可能保留的相应容量级别的费用菜单。 最优预订价格具有数量折扣的特征。

第二种合同类型是预购协议，它为原始设备制造商提供选项，以便在合同制造商确保容量之前以预先购买价格下订单。该协议可信地表明原始设备制造商的预测，并促使合同制造商确保必要的容量。根据每单位容量成本和预测信息不对称程度，原始设备制造商和合同制造商可以选择能够实现互利合作的结构化协议。当预测信息不对称程度为中等水平时，容量预约合同是首选。当预测信息不对称程度高且扩容成本低时，优先购买合同。

当各方之间的预测信息高度不平衡且单位成本的单位成本较低时，这些协议允许先进的购买合同为双方带来更高的利润。

然而，如图1顶部所示，供应链因今天的全球贸易体系而变得复杂。国际运输成本变得昂贵且比国内运输变化更大。然后，我们需要改进合同类型，以降低全球供应链的容量风险。

如图1中间所示，供应链管理有许多数据交换系统，如POS（销售点），EDI（电子数据交换），VAN（增值网络）和VMI（供应商管理库存）。这些系统仅实现了当前应用程序的系统化和公司内部的个性化优化。

关于对象（材料，产品等）的信息在供应链上的接力棒接力之类的玩家之间取得了成功。此外，每个玩家都会添加特殊的判断和意图。换句话说，对象只是供应链从头到尾的一个对象，但供应链上会存在多种信息。因此，通信需要更多时间，并且信息的新鲜度会下降。

当它能够保持信息的新鲜度时，供应链可以获得如图2所示的好处。

对于供应商和制造商而言，可以通过制造商调整生产，因为供应商可以更多地从制造商处获取下游信息。 当制造商像以前一样根据制造商的预测信息生产产品时，供应商将始终承担库存风险，但他可以通过信息共享来避免这种风险。

对于零售商而言，由于供应链可以实时共享POS的情况，因此可以自动向商店供应产品。它可以减少补充提前期和销售机会的损失。通过省略订购职责可以降低运营成本。

运输业务可以通过在早期阶段共享货物的计划信息来优化资产（人员和卡车）的存储和安排中的职责。按时收集，交付和运输可降低运输成本，提高配送服务水平。我们也可以解释信息共享的另一个好处。例如，在某些组件延迟的情况下，制造商可以根据估计的延迟时间来订购替代品。但是如果没有实时查找物流，很难估计到达时间。结果，它损失了销售机会和制造成本。在全球供应链的情况下，物流运输和物流活动变得普遍。有关各方，每一方都掌握其责任范围内的物质流动。这意味着航运代理商掌握其船舶的位置信息，陆上货运公司追踪其卡车的位置，但没有人能够理解整个供应链的状态。需要努力寻找物流，因为每个代理仅提供Web服务来跟踪每个流。

为了降低库存成本并提高供应链效率，需要供应链的“可视性”。 供应链的可见性定义为与产品订单和实际货运相关的特定信息的开放性，包括运输和物流活动。 可视性通过多层次的全球供应需求网络降低成本并提高运营绩效。

有必要考虑准确的分析以减少可变性并消除停留时间。 要优化贸易通道性能，您还需要准确了解单个订单和货件状态。 它必须通过全球供应链实现灵活的库存调整。 为了优化库存管理，有必要实时查找库存状态为“什么，哪里和多少”。 我们需要讨论如何实现这种情况。

## Proposed Solution

以前的研究工作已经讨论了整个供应链中信息共享的好处。共享数据，如机器负载，销售预订和库存位置已被证明可以提高履行率和产品周期时间，并减少订单波动。

但是，由于存在许多代码方案，因此很难在全球供应链中共享信息。使用EDI网络是一种简单的解决方案，可以集成代码方案并实现供应链的可见性，但对于小型企业来说尤其昂贵。

如果他们尝试整合他们的代码方案并通过使用相同的ERP软件包（如SAP）实现供应链的可见性，则会产生另一个问题。大多数公司不一定希望共享信息，因为他们不想与竞争对手分享他们的能力。还有必要考虑关于信息共享方案的访问控制。很难接收和解释来自众多运营商，经纪人和货运代理商的状态更新，以获得全面的视角并评估性能和瓶颈。如果没有这种鸟眼观点，实施节省成本的策略几乎是不可能的，例如即时库存补货。当交付窗口紧张时，即使是轻微的失误和错误计算也会产生重大的成本和服务水平后果。

为了满足这些要求，我们考虑低成本和可访问控制的数据库系统。近年来，出现了一种新的分布式数据库系统。该系统是比特币[1]，它允许用户使用可公开验证的开放式分类账（或区块链）在没有集中式监管机构的情况下安全地转移货币（比特币）。从那时起，比特币展示了这些区块链如何为其他需要可信计算和可审计性的功能提供服务。

虽然公司通过区块链获得信息共享的好处，但公司越来越担心保护订单内容。因此，有可能满足上述要求。

我们开始描述我们提出的系统的概述。如图3所示，我们的系统有两个实体。一个是对建立供应链感兴趣的公司，另一个是区块链节点。委托维护区块链的实体和分布式公共/私人保护数据存储以换取激励。

一般而言，信息共享方案仅与作为可信第三方的主要IT公司相关联，该第三方处理和调解任何电子交易。

受信任的第三方的角色是验证，保护和保护交易。在线交易中一定比例的麻烦是不可避免的，需要通过交易进行调解。这导致高交易成本。

我们系统中的比特币机制使用加密证明而不是第三方的信任，两个自愿方通过互联网执行在线交易。

每笔交易都通过数字签名进行保护。每个事务使用发送者的私钥进行数字签名,被发送到的接收者的公钥。

为了发送材料，加密发票的所有者需要证明私钥的所有权。接收数字发票的实体使用发件人的公钥验证交易的数字签名（相应私钥的所有权）。

图4显示了事务处理的概述。 公司A希望向公司B发送发票。该交易在线表示为后面提到的记录。 该事务被广播给网络中的每个客户端。 网络中的那些客户批准该交易是有效的。 然后可以将事务添加到链中，从而提供不可磨灭且透明的事务记录。 发票从公司A转移到公司B.

为了将各方之间的对象（材料或产品）信息实时共享为“一个数据”，我们需要修改该块。

为了理解解决方案，我们举例说明了比特币的实现。 比特币使用加密证明而不是第三方信任机制，两个自愿方通过互联网执行在线交易。 事务是一行代码，包含4个组件：

1. 输入：交易金额的来源。（即，卖主）
2. 输出：交易金额的目的地（即客户）
3. 金额：交易单位的数量（在比特币区块链中，单位是比特币）
4. 元数据：可以与交易一起存储的附加信息（在比特币中，这是可以添加相关信息的地方。通常，元数据由指代数字资产版本的数字组成，也称为“哈希”）

图5是交易的简单表示。每个事务都通过数字签名保护，发送到接收方的公钥，并使用发送方的私钥进行数字签名。为了花钱，加密货币的所有者需要证明他对私钥的所有权。然后，接收数字货币的实体通过在相应的交易上使用发送者的公钥来验证数字签名，这意味着对应私钥的所有权。

每个交易都被广播到比特币网络中的每个节点，然后在验证后记录在公共分类账中。在将单个事务记录在公共分类帐中之前，需要验证每个事务的有效性。交易不按生成顺序排列。然后，系统必须确保不会发生加密货币的双重支出。考虑到事务通过比特币网络逐节点地传递，不能保证在节点处接收它们的顺序与生成这些事务的顺序相同。上述意味着需要开发一种机制，以便整个比特币网络能够就分布式系统中的事务顺序达成一致。

我们提议的块与比特币的块几乎相同。 但是，为了实现“一个数据”，我们需要定制块，如下所述。

比特币通过一种现在通常被称为区块链技术的机制解决了这个问题。 比特币系统通过将事务放在称为块的组中来对事务进行排序，然后通过所谓的区块链链接这些块。 一个区块中的交易被认为是同时发生的。

块是一组事务。 每个块由以10分钟为增量广播到网络的事务数组成。 10分钟的时间跨度是比特币协议的参数，相当于验证块所需的平均时间。 每个块都有自己的名称或标题。 此标头包含有关其自身块（事务+称为nonce的计数器）和前一个块（Hash n-1）的信息。

因此，区块链是通过块头的散列链接的一组块。 如上所述，每个块具有包含关于其块的信息的头部和关于前一块的一些信息。 这条信息是前一个块头的哈希值。 图6描绘了这种关系。 如果散列函数的输入有任何变化，则输出完全不同。

因此，如果有人想要更改过去的事务，系统将拒绝它，因为包含最新事务的块的头的散列将与其他节点上的其他版本的块链不同。在同时创建不同块的情况下，网络节点彼此通信。重要的是要知道，随着区块链的创建，已经采取了其他措施来避免在系统内创建几个不同的区块链。

仍然有一个讨论：如何决定区块链中的下一个区块。

网络中的任何节点都可以收集未经证实的事务并创建一个块，然后将其广播到网络的其余部分，作为关于哪个块应该是区块链中的下一个块的建议。比特币通过“工作证明”解决了这个问题：生成块的节点需要证明它已经投入了足够的计算资源来解决数学难题。例如，可以要求节点找到“随机数”，当用事务和先前块的散列进行散列时，产生具有一定数量的前导零的散列。所需的平均工作量是所需零位数的指数，但验证过程非常简单，可以通过执行单个散列来完成。

如上所述，区块链技术借助公钥加密技术确保消除双重花费问题，从而为每个代理分配私钥和与所有其他代理共享的公钥。当比特币（或数字代币）的未来所有者将其公钥发送给原始所有者时，启动交易。硬币通过散列的数字签名传输。公钥是存储在区块链中的加密生成的地址。每个硬币都与一个地址相关联，而交易只是从一个地址到另一个地址的硬币交易。区块链的优选特征是公钥永远不会与现实世界的身份联系在一起。交易是可追溯的，但不会泄露一个人的身份;这与法定货币交易存在重大差异。这个数学难题并不容易解决，问题的复杂性可以调整，因此比特币网络中的节点平均需要十分钟才能做出正确的猜测并生成一个块。

在给定时间，系统中将生成多个块的概率非常小。为了解决这个问题，第一个节点将块广播到网络的其余部分。偶尔会同时解决多个块，导致几个可能的分支。但是，需要解决的数学过程非常复杂，区块链很快就会稳定下来。完成此操作后，每个节点都对块的排序达成一致。

捐赠其计算资源以解决难题和生成块的节点被称为“矿工节点”，并且因其努力而获得经济奖励。网络只接受最长的区块链作为有效区块链。因此，攻击者几乎不可能引入欺诈性交易，因为它不仅要通过解决数学难题来生成块，而且还必须在数学上与好节点竞争以生成所有后续块以便它使网络中的其他节点接受其事务并阻塞为有效节点。

由于区块链中的块以加密方式链接在一起，因此这项工作变得更加困难。可以同时由不同节点创建多个块。由于块可以在网络中的不同点处到达不同的顺序，因此不能依赖于该顺序。

**为了说明解决方案，请考虑修改后的区块链。交易数据（即供应商，金额，客户/产品和条件）使用秘密加密密钥加密并发送到区块链。条件是与供应商就合同类型（例如容量预订合同和预购协议），价格，附加费和折扣等达成的协议。输入报价单，信息记录，大纲协议（合同，计划协议）和采购订单时，可以保持条件。采购文件中的净价和有效价格是根据这些条件确定的。**

修改后的区块链接受一种新的交易类型进行计算，用于计算所选金额的总和。现在，任何公司都可以使用与其关联的关键字（即产品，合同类型等）的查询交易来查询计算数据。它包括同态加密方案[3]。

同态加密的目的是允许对加密数据进行计算。因此，数据在处理时可以保持机密，从而可以使用驻留在不受信任的环境中的数据来完成有用的任务。在分布式计算网络的世界中，这是一项非常有价值的功能。同态加密是一种加密形式，它允许在密文上执行特定类型的计算并生成加密结果，当解密时，加密结果与在明文上执行的操作的结果相匹配。这是系统架构中的理想特征。同态加密允许对加密数据进行受限制的计算。对加密数据进行计算意味着如果用户具有函数f并且想要获得某些输入m1的f（m1，...，mn），。 。 。 ，mn，可以改为计算这些输入的加密，c1，.... 。 。 cn，获得解密为f（m1，...，mn）的结果。在一些密码系统中，输入消息（明文）位于某些代数结构中，通常是一个组或一个环。在这种情况下，密文通常也位于一些相关的结构中，这可能与明文的结构相同。

我们详细描述了系统中使用的底层协议。我们在我们的平台中使用标准加密构建块：分别由生成器，加密和解密算法定义的同态加密方案;分别由发生器，签名和验证算法描述的数字签名方案。

A.构建块

1）身份：区块链利用伪身份机制。我们介绍复合身份，这是我们系统中使用的这个模型的扩展。复合身份是两方或多方的共享身份，其中一些方（至少一方）拥有身份（所有者），其余方限制访问它（访客）。该标识由用于加密（和解密）数据的同态加密组成，以便保护数据免受系统中的所有其他用户的影响。

2）区块链内存：我们让L成为区块链内存空间，并且可以存储足够大的文档。我们假设这个记忆在比特币和其他区块链中使用的相同对抗模型下是防篡改的。为了直观地解释为什么可以在任何区块链（包括比特币）上实现这种可信数据存储，请考虑以下简化实现：区块链是一系列带时间戳的事务，其中每个事务包括可变数量的输出地址。然后可以如下实现L - 事务中的前两个输出编码存储器地址指针，以及一些辅助元数据。其余的输出构造了序列化文档。查找L时，仅返回最近的事务，除了插入之外，还允许更新和删除操作。

B.区块链过程

在这里，我们提供了在区块链上执行的核心流程的详细描述。 图7显示了事务中记录的表示。

它包含发件人，金额，收件人，交易ID，产品ID和元数据。 发件人，金额和收款人是发票的组成部分，这些都是加密的，因为披露这些数据会导致其不利。 发送者和接收者是供应链中的供应商，制造商，运输业务和零售商。

元数据包含验证和/或执行合同中的条款和条件的条件和程序的地址。

条件允许程序根据合同中的条款和条件设置触发事件，例如交货延迟。 当接收到触发事件时，过程由区块链网络中的节点执行。

图8显示了交易过程的概述如下。

1. Frond end申请签署并向供应链分类账签发交易。 供应链分类帐是区块链网络，它接收与供应链相关的交易。 他还在记录中添加了“交易ID”。
2. 客户端验证事务并将事务传播到其他客户端。
3. 客户还获得交易的哈希值。
4. 矿工可以创造该交易及其他交易的新块。
5. 前端事务管理器监视其内存空间上未完成事务的状态。
6. 事务管理器在触发事件发生时创建新事务。

**供应链中的“一个数据”是指供应商，制造商和零售商的一组交易。 产品的事务与事务ID和产品ID相关联。 产品ID字段包含产品名称和代码。 交易ID是管理交易状态。 事务完成后，事务管理器会从其内存中删除事务。**

现在，我们解释一些例子来理解。

图9中的过程显示了正常的事务。 交易流程如下;

1. 接收方收到产品。
2. 前端事务管理器在其内存空间上寻求产品的不完整事务。
3. 事务管理器复制事务并从其内存空间中删除。
4. 事务管理器使用副本创建新事务。
5. 区块链客户端将此事务添加到新块。

图10显示了条件“总量”的计算过程。当公司想要找到“xyz”的延迟装运总量时，公司会向区块链发送交易（product =“xyz”）。交易流程如下;

1. 事务管理器创建一个带有支付采矿程序的查询事务。
2. 区块链网络中的矿工寻求查询的不完整交易。
3. 矿工提取并总结所有订购产品的数量。
4. 矿工返回请求的结果。
5. 交易经理确认结果并发布“支付采矿”程序以支付费用。该过程的激励可以通过交易费来获得资金。

图11显示了紧急订单流程。尽管情况最糟糕，但仍有必要继续供应。交易流程如下;

1. 区块链网络接收包含延迟条件的事务。
2. 交易经理提取延迟订单。
3. 事务管理器为紧急订单创建新事务。
4. 交易经理找到紧急交易。
5. 交易管理器将紧急订单交易发送到区块链。交易经理确认结果并发布“支付采矿”程序以支付费用。

## Related Work

已经进行了各种尝试来解决数据保护问题。在整个行业中，领先的公司选择实施基于OAuth协议的自己的专有认证软件[6]，其中它们作为集中的可信管理机构。从安全角度来看，研究人员开发了各种针对交易数据的数据保护问题的技术。数据匿名化方法试图保护个人身份信息。 k-匿名，匿名数据集的共同属性要求每个记录的敏感信息与至少k-1个其他记录无法区分[7]。 k-匿名的相关扩展包括l-多样性，它确保敏感数据由一组足够多的可能值表示[11];
t-closeness，它关注敏感数据的分布[12]。最近的研究表明，即使是少量数据点或高维数据，采用这些技术的匿名数据集如何进行去匿名化[9]，[14]。其他数据保存方法包括差分保护，一种在共享数据之前扰乱数据或将噪声添加到计算过程的技术[10]，以及允许在加密数据上运行计算和查询的加密方案。

如您所知，有类似的方案，如智能合约。 NXT [31]是一个公共区块链平台，包括一系列目前正在使用的智能合约。 以太坊[30]是一个公共区块链平台，目前是最先进的智能合约区块链。 使用“图灵完整”编码系统，理论上您可以将任何逻辑放入以太坊智能合约中，它将由整个网络运行。 有一些机制可以防止滥用，你需要通过传入“ETH”代币来支付计算能力，这些代币可以作为运行代码的矿工的付款。 Enigma [32]提供了第一个保护使用中数据的解决方案。 与他人共享数据以进行处理而不实际将其丢弃。 即使需要复杂的分析，也可以保证数据始终被加密。

我们的区块链方案没有虚拟货币等有价值的东西可以避免黑客入侵。 矿工可以获得交易费用，它只使用网络中的计算能力。

## Conclusion

在本文中，我们提出了一种新的信息共享区块链方案。它为供应链管理带来许多好处。一般而言，交易数据不应该被第三方所信任，因为它们容易被窃取和滥用。相反，用户应该拥有并控制他们的数据，而不会影响安全性或限制公司和当局提供加密交易的能力。我们的平台通过将区块链与同态加密解决方案相结合来实现这一目标。用户无需信任任何第三方，并且始终了解正在收集的有关它们的数据及其使用方式。此外，区块链将用户识别为其加密数据的所有者。反过来，公司可以专注于利用数据而不过度担心正确地保护和划分数据。此外，通过分散的平台，制定关于收集，存储和共享敏感数据的法律和监管决策应该更加简单。此外，法律法规可以编入区块链本身，以便自动执行。在其他情况下，分类帐可以作为访问（或存储）数据的法律证据。我们认识到有些问题有待解决。例如，紧急订单的搜索操作给Miner带来了沉重的负担。我们需要考虑有效的激励机制。