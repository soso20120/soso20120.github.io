---
layout: post
title: Securing Physical Assets on the Blockchain
tags:
- Blockchain
- Supply Chain
- traceability

---

## Abstract

使用区块链技术跟踪实物资产并不新鲜。然而，由于若干限制，现有技术概念不适用。一个限制是区块链的可扩展性与网络可以处理的事务数量有关。跟踪产品的成熟技术基于可以克隆的RFID芯片。本文提供了如何通过具有独特裂纹图案的清漆来保护和监控对象的见解，作为物理不可克隆功能的示例。唯一模式的感知散列用于加密相关数据以确保隐私。 OriginStamp用于保护区块链上的数据完整性，而不是单独记录区块链上的每个事件，这是由于有限的事务吞吐量而无法实现的。 OriginStamp聚合事件，通过散列将它们组合在一起，并将此哈希嵌入到比特币交易中。一旦比特币网络将事务挖成块并确认它，时间戳就被认为是存在的不可变证明。使用这种方法，跟踪数据的完整性不会受到质疑。

未来，基于裂缝的跟踪方法可以扩展到供应链整合，以确保产品的来源，包括防止假冒，确保商标法的制造地或国家对农业经济的监督。

## Motivation

在商标法领域或有机产品认证中，确定产品的来源在打击假冒行为中起着至关重要的作用。消费者的意识需要透明的供应链来确保，例如，产品或质量的起源。通过了解食品供应链，这一要求包括确保易腐产品的冷链附着，以及将食品追溯到原始农场。为了无缝地跟踪产品，必须通过传感器检测它们并将其存储在防篡改存储器中，以便用户可以确保他的产品不会被损坏，例如，因为没有保持冷链。

跟踪产品的挑战是要记录的个性化特征。一种可能性是使用有源或无源RFID [21]或BLE [6]。**这些技术的主要缺点是可以复制它们，因此可以创建产品的虚假历史记录。因此，RFID适合作为跟踪方法，但不适合作为安全特征。**因此，过去通过在RFID技术之外增加更多安全功能来清除信用卡欺诈。另一个重大挑战是保持数据的完整性存储。然而，海洋管理委员会（MSC）作为中立的第三方的认证能够通过向消费者提供信息来跟踪通过这些技术向消费者提供海鲜的路径，例如，捕获使用的方法，捕获的位置和目标物种。但是无法追踪运输路径。因此，渔业公司，MSC和海鲜消费者之间存在信息不对称。客户必须信任制造商或第三方，即中央服务器上托管的数据未被更改或删除。因此，这种类型的供应链对客户而言是不透明的，并且另外的接缝易受操纵干预。

2008年，Nakamoto [15]引入了比特币，这是一种基于区块链的点对点现金系统，一方面由于密码学和分散化而被认为是不可改变的。因此，通过使用区块链来跟踪供应链更加透明。除了这些优势之外，比特币网络被认为是缓慢且不稳定的。由于分散，客户端在开采新块时必须彼此同步。阻塞时间设置为十分钟，这意味着每秒可以处理大约七个事务[31]，这对跟踪产品来说太少了。食品供应链的一个例子：如果我们假设每个人每个月吃一个苹果，那么每年总共有840亿个苹果，必须跟踪。跟踪过程可以在离开种植园，运输，储存，运输到超市。所以对于这些苹果来说，至少需要四笔交易。如果我们将这个数量乘以840亿苹果，这将导致每年33470亿笔交易和每秒1065笔交易。

在接下来的工作中，我们提出了一种基于裂纹漆的安全物理产品的新方法，这些产品被认为是物理不可克隆功能（PUF）[12]。我们还展示了OriginStamp，一种使用比特币区块链的免费可信时间戳服务，如何保护数据完整性，最终将物理世界与区块链架构的优势结合起来。此外，我们的新方法与当前的现有技术形成对比，因为多个事件被合并到单个事务中。这项工作解决了在区块链的帮助下如何透明地和不可变地表示产品的起源的研究问题。为此目的，在第2节中分析了现有技术。确定了这些方法的优点和缺点。在第3节中，提出了我们的新概念，其解决了现有技术的局限性。我们在第4节中总结了我们的新概念，并确定了我们的新方法所揭示的未来研究方向。

## Related Work

在下一节中，我们将研究现有技术，并通过保留产品历史的完整性来解释如何将现实世界转移到数字世界。 在我们的文献检索中，我们确定了供应链整合方面的工作，这与我们的方法高度相关。 因此，我们将研究哪些基于区块链的方法可以保护物理资产，并确定其优势和劣势。

* Korpela等在一项研究[11]中研究了这种系统的设计原则。他们调查的另一个结果是对基于区块链的方法的业务整合以及区块链如何用于供应链的分类法的要求。此外，发现集成的准备性与功能之间存在差距，因为对于某些功能（例如事务的时间戳）仍然没有既定的行业标准。
* Tian [23]提出了一种农产品区块链，它使用RFID标签跟踪农产品。目的是确保满足冷链的起源和要求。冷链旨在确保产品在规定的条件下储存或运输，以便它们不会变质。这种方法的一个显着缺点是，**没有技术方法来处理区块链中数据的组织方式以及如何设计这样的系统。**
* 澳大利亚，斐济和新西兰的世界自然基金会（WWF）与美国科技创新企业ConsenSys，技术实施者TraSeable以及金枪鱼捕捞和加工公司Sea Quest Fiji Ltd合作，推出了金枪鱼行业试点项目在太平洋群岛，将使用区块链基础设施来追踪金枪鱼从诱饵到板块的旅程。
* Toyoda等。[24]为后供应链提出了一个解决方案，描述了从零售商到客户的历史。他们的方法是使用以太坊区块链实现的。每次扫描产品时，都会转移产品的所有权。使用智能合约，以便能够清楚地识别谁在特定时间拥有特定产品。这种方法的一个主要问题是解决方案的可扩展性。目前，以太坊每秒可以处理大约15笔交易。例如，亚马逊在高峰时段每秒在德国销售53件商品。因此，解决方案目前不可行，因为网络没有为此目的而扩展。
* Nakasumi的方法涉及供应链参与者之间的不对称信息交换。通过使用区块链技术，这种交换应该以透明的方式进行，保护隐私并以防篡改的方式进行。通过同态加密[20]，这种方法提供了在不发布数据的情况下计算不同数据的可能性[16]。根据Nakasumi的说法，该方法确保用户不必信任任何第三方。
* 区块链（CoC）供应​​链由Xu等人介绍[28]，试图解决供应链区块链的可扩展性问题。该方法使用两个不同的区块链：一个用于块的预留，即任何想要在主链中写入的人，必须在保留链中保留一个块，其中最后一个块仅在一段时间内可用。因此，该链条不是特别大，并且防止了块状物囤积。此外，通过工作证明和采矿费来保护预订链免受垃圾邮件的侵害。第二个区块链包含供应链条目和对应预留块的引用。没有保留，就不可能写入主链。这种方法的一个缺点是参与者必须预测他们何时需要阻止。如果此预测不正确，则预订已过期或尚未存在，从而导致预订等待时间。

作为对相关工作的分析的结果，获得了若干结果。 一方面，大多数提出的工作都考虑使用RFID来跟踪产品。 另一方面，有关如何在区块链中映射数据的建议，由于区块链技术的可扩展性限制，这是不切实际的。 因此，我们引入了一种替代方法来跟踪供应链中的产品，该供应链使用物理不可克隆功能，可用于跟踪和作为安全功能，以及由Gipp等人在2015年[8]引入的OriginStamp。

## LINKING PHYSICAL ASSETS WITH THE BLOCKCHAIN

RFID芯片，条形码和QR码不适合在跟踪过程中保护物理资产，因为它们可以被复制。 因此，造假者可以将追踪功能添加到他们的假冒产品中。 通过PUF跟踪物理对象的想法并不新鲜，但是没有关于如何将这种不可变属性转移到数字层的概念。 由于分散式架构，区块链被视为不可改变的数据结构，这就是我们将研究如何使用这些技术来保护产品分销途径的原因。

#### 3.1 Craquelure-based Tracking

假冒产品几乎可以在工业中找到。特别是在制药行业，“假冒或其他品牌破坏性事件可能会使公司的股价降低10％”[26]。为了对抗这种假冒行为，开发了一种基于清漆的新型跟踪功能。 Krakelee（craquelure）[10]是一种随机模式的微裂纹（发丝裂缝），在一层油漆或清漆中形成。干燥过程导致裂缝和图案独特，其起源混乱且无法预测。根据使用的清漆，裂缝图案在裂缝尺寸方面以不同的粒度产生。得到的图案可以像物理产品的指纹一样被读取。这意味着可以唯一地识别每种产品。一些涂料会导致细小裂缝，只能在显微镜下看到。其他漆会产生粗糙的裂缝图案，这些图案在使用传统手机相机拍摄的照片上已经清晰可见。这些特别适用于供应链，因为这些移动设备可供大众市场使用。清漆的裂缝图案是独特的，如果产品包装或产品本身提供，该产品也可以清楚地识别，如图2所示。

#### 3.2 Preserving Data Integrity with OriginStamp

吉普等人提出了一种时间戳任何数字内容的方法[8]。借助于这种方法，可以通过在比特币区块链中存储任何数字内容的散列来及时记录和验证产品的各个站。由于其结构，区块链被认为是不可变的和防篡改的，这就是为什么这个时间戳不再依赖于中心实例的原因。 OriginStamp提供RESTful API，可以轻松地免费用于研究项目。该服务仅需要数字内容的SHA-256哈希[9]来进行时间戳。此加密指纹不确定文件或文档的原始内容，这就是时间戳完全匿名运行的原因。 SHA-256-hash函数对此要求是有益的，因为它是加密单向函数[17]。但是，从给定的哈希值来看，由于计算复杂度高而无法确定匹配的输入文件。 OriginStamp使用事务将此指纹嵌入到比特币区块链中。而不是每个散列一个事务，收集一个perid的所有哈希值，按字母顺序按升序排序，连接（种子）和散列（种子哈希），如图1所示。这个所谓的种子哈希然后用作私有计算未压缩比特币地址的关键，该地址启动了具有最低数量的比特币的转移，即所谓的灰尘支付。与RFC 3161标准[2]不同，时间戳不依赖于中央实例及其安全预防措施。即使数据库被黑客攻击或将来服务不再存在，也可以根据[8]中的时间戳过程，与中央服务进行对比，验证时间戳。由于许多时间戳被批量分配到单个事务中，因此每个时间戳的成本也非常低，并且每个事务可以创建任意数量的时间戳，从而使得可扩展性独立于非常有限的比特币区块链。此外，OriginStamp不会使用未使用的输出（UTXO）向比特币网络发送垃圾邮件，而是收集输出并保持区块链清洁。

#### 3.3 Data Storage

区块链中的数据以分散的方式存储。这意味着数据不像传统软件系统那样存储在一台服务器上。甚至云系统也使用集中式服务器。区块链数据由连接的设备（所谓的节点）在网络上分布。块彼此链接，从而产生链式数据结构。这些块由密码术保护。即使在操纵，审查或硬件故障的情况下，区块链也不会受到影响，因为每个节点都存储了导致高冗余的所有信息。 [22]除了在分散的区块链中存储数据之外，还可以通过集中式方法管理数据，这些方法将在以下各节中介绍。


###### 分散存储

在区块链中存储所有内容是最简单的解决方案。由于高冗余，该方法提供高水平的鲁棒性和安全性。但是这种方法有明显的缺点：在区块链上进行的交易很慢，例如比特币网络中的阻塞时间是十分钟。每个事务都被挖掘成一个块，这个块的大小有限。因此，即使对于大量数据，也不推荐使用此方法，因为交易费用高且事务处理速度慢。

P2P文件共享系统的一个示例是行星际文件系统（IPFS） [4]。这种方法是Bit-Torrent协议和分布式哈希表（DHT）的结合。这种灵活的解决方案允许节点只下载所选文件。内容与唯一的地址相关联，并且可以快速下载。一个缺点是节点必须在线，否则无法共享和下载。一个更好的可扩展性的项目是Enigma[32];使用同态加密来确保隐私。Aspen是一种面向服务的分片方法[7]。Aspen将不相交的事务分离为资产类，允许用户仅跟踪相关链，同时保护整个链具有相同的性能。

像Storj [27]，Sia [25]或Ethereum Swarm这样的云存储是节点上托管内容的云文件存储可能性。 主要优点是并非所有节点都需要联机才能访问文件。 该存储高度可靠，快速，并且不受容量限制。 此外，该方法允许使用静态文件。 分布式数据库（DDB）（如BigChainDB [13]或Ties DB）是其他存储选项。 理论上，它们被认为是快速的并且提供了巨大的数据容量。 DDB存储每个块的所有信息。 所有节点都连接到群集，并具有对DDB的完全写入权限。 但是节点可以破坏数据库集群。 此DDB还可用作私有/集中式区块链选项。

###### 集中存储

几乎所有提到的存储可能性也可以集中在例如 在一家公司的服务器上。 所有信息都需要经过一个实例。 因此，与需要同步的分散式区块链相比，更容易保持对数据的控制并提高性能。 这种方法也比分散的区块链便宜得多，交易费用从几美分到50美元不等。 另一方面，集中存储方法不像区块链那样值得信赖，因为数据由中央实例维护而不受整个网络的控制。 因此，总是存在操纵的可能性。

###### 两种可能性的结合

使用DHT，节点可以随时加入和离开网络。 DHT可以从更多公司或机构建立网络。 他们的数据受加密保护，DHT不会在每个节点上存储所有数据。 复杂度为O（logn），其中n是网络中的节点数。 因此，操纵更加困难，因为攻击者必须同时操纵所有节点而不仅仅是单个节点。

总之，到目前为止还没有完美的存储可能性。 每个系统或方法都有自己的优点和缺点。 因此，根据应在区块链中存储哪些信息，选择正确的方法很重要。 通常考虑的标准可以包括安全性，操纵，可伸缩性，文件类型或用户类型。 Xu等人提供了对不同储存标准和建议的评估[29]。

#### 3.4 Scaling blockchain

如果我们看一下食品供应链，信息交换是异步的[15]。 对于食品供应链，这可以是证书，视频，图片和其他相关文档等数据。 扩展区块链是必需的，但并不容易，因为区块链不能足够快地处理交易。 如上所述，比特币每秒只能执行七次交易。 现有技术是每个节点都存储所有数据。 这会导致事务处理速度变慢，因为必须同步所有节点。

为了解决这种可扩展性问题，有不同的方法，例如，分片（数据分区只存储节点中信息的一部分）[5]或群集（从最近和最快的节点并行检索数据）[19]或处理像闪电网一样的离线交易[18]]。 由于每秒数据的大量增长，因此需要良好的扩展解决方案。

#### 3.5 Product Tracking Workflow

在第一步中，将清漆施加到产品或包装上。在短暂的干燥时间后，用光学传感器拍摄产品。在第一次扫描过程中，制造商注册了独特的裂缝，该裂缝立即加上OriginStamp的时间戳。在此步骤之后，在所有后续站点验证产品，例如，当它被装入卡车，海关或零售店时，如图2所示。我们新颖安全功能的验证始于确定图像质量。只有在图像质量足够的情况下才能提取裂缝的结构。因此，必须在实际处理之前确定这种质量，并使用经过训练的模型来对照图像的统计特征，例如：使用自然图像质量评估器（NIQE），如[14]。如果输入图像的质量足够高，则必须提取漆裂纹。为此目的，使用神经网络来提取这些结构。要将现有图像相互比较，必须在图像数据库中搜索最相似的图像。对于大量图像，许多图像必须相互比较，这可能需要很长时间。因此，计算感知散列以减少检索空间并加速该最近邻搜索，从而确保供应链的可扩展性。如果没有找到图像，则该产品尚未注册，因此可能是伪造或可能被操纵。感知哈希也使用OriginStamp加时间戳，以使扫描图像在特定检查点可验证。在评估图像期间，我们的移动设备的传感器捕获诸如位置，温度，噪声或加速度之类的元信息。

感知哈希：从服务器接收到感知哈希后，密钥将转换为公钥。该公钥的数据从服务器获取并用感知哈希解密。在移动设备上可视化前一阶段的时间线。

传感器数据：在评估图像期间，元信息（如位置，温度，噪声或加速度）由我们的移动设备的传感器捕获。数据格式转换为带有键值映射的JSON表示。在下一步中，数据被转换为其HEX表示。除元信息外，原始数据集还包含最后一个数据集的哈希值。这是为了确保事件的联系。

加密：HEX数据由感知哈希加密，用作密码。此外，计算传感器数据的SHA-256。

存储：通过将加密数据附加到原始数据的SHA-256哈希来生成原始数据，如图3所示。服务器根据以下标准验证原始数据格式：第一步是检查是否传输数据采用HEX格式。然后从原始数据中提取标头并验证它是否是有效的SHA-256哈希以及是否已存在时间戳。如果时间戳已存在，则数据无效：由于之前已存在相同元信息的感知哈希。如果没有，SHA-256[9]用OriginStamp加时间戳，如3.2节所述并存储。用户现在可以从操作员请求所有数据记录并在客户端验证它们。如果记录缺少或被操纵，则不再保证可由OriginStamp检查的数据完整性。此外，可以验证解密数据，例如，产品来自某个位置？冷链是否得到维护？在这种情况下，客户可以决定不接受该产品。然后创建产品的历史记录，该历史记录在服务器上加密。在每次扫描过程中会扩展和显示此历史记录。因此，只有阅读过产品的参与者才能访问数据，因为他们有密码用于解密。另一方面，制造商可以在不泄露商业机密的情况下追溯供应链。

## Conclusions

在本文中，我们提出了将物理世界与数字世界联系起来的概念。这种联系增加了供应链的透明度，例如食品或医疗产品，通过区块链技术的整合。 Krakelee可用作跟踪功能以及安全功能，因为每种产品的裂缝模式都是独一无二的。制造这一特征的努力是巨大的，因为裂缝必须在纳米水平上模仿，这是昂贵的。 OriginStamp确保数据完整性，数据结构仅允许附加数据。因此，可以验证产品的有效历史记录。但是，必须主动扫描产品并且不自动报告，例如使用有源RFID。我们的新方法是未来研究的起点。由于当前公共区块链的可扩展性有限，因此正在开发许多脱链协议以满足高需求。这就是为什么我们的逐步解决方案使用OriginStamp，一个免费的可信时间戳服务。这确保了加密的供应链数据的数据完整性。尽管吞吐量较高，但私有链并不适合作为解决方案，因为根据Zheng等人的说法，这个网络将掌握在几家公司手中，这可能会篡改数据。 [31]。为比特币网络引入闪电网络[18]已经显示了可以安全地在外链上进行多少付款。我们考虑使用使用散列时间锁定合同的离线协议作为我们研究的未来方向，以提高跟踪实物资产的安全性和透明度。虽然不是每个事件都记录在区块链上，但是OriginStamp可以验证供应链中的各个阶段。