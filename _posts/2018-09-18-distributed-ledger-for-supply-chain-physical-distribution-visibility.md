---
layout: post
title: A Distributed Ledger for Supply Chain Physical Distribution Visibility
tags:
- Blockchain
- Supply Chain

---

## Abstract

供应链（SC）涵盖许多地理位置，模式和行业，涉及数据从供应商，制造商，分销商，零售商和客户双向流动的几个阶段。此数据流对于支持可能影响产品成本和市场份额的关键业务决策是必要的。当前的SC信息系统无法在分发阶段提供经过验证的伪实时货运跟踪。这些信息可以从单一来源获得，通常是承运人，并根据需要与其他利益相关者共享。本文介绍了一个独立的，经过人群验证的在线货运跟踪框架，该框架补充了当前基于企业的SC管理解决方案。拟议的框架由一组私人分布式分类账和一个区块链公共分类账组成。每个私人分类帐允许在给定货件中私人共享贸易伙伴之间的监管事件。例如，在交易高端产品或化学和医药产品时，隐私是必要的。第二种类型的分类帐是区块链公共分类帐。除了监视事件之外，它还包含每个私有事件的哈希码。后者使用通勤者采购从大量来源提供独立验证的不可变记录，表明货物的伪实时地理定位状态。

## INTRODUCTION

我们的主要目标是在供应链（SC）的物流阶段为供应商和客户提供经过验证的近实时可见性。该阶段涉及货物从供应商到客户的运输。在SC的物流分配阶段，有几种现有的解决方案支持货运跟踪。这些解决方案通常包含来自单一来源，运营商的跟踪信息，并且受到其他利益相关者的可见性限制。实际上，信息是通过承运人在必要时提供的更新来共享的。此外，共享的信息不由独立来源验证。这些信任和透明度问题可能不会影响具有完全集成的入站和出站物流网络的大型企业之间的交易[1]。但是，当客户或供应商是中小型企业并且在装运期间必须依赖负载共享和多个运营商时，该模型会失败。

本文介绍了一个框架，该框架在SC的分发阶段向所有利益相关者提供在线货运跟踪信息。信息流和交换由两种类型的分布式分类账支持：私人分类账和公共分类账。每批货物都与特定的私人分类帐相关联，该分类帐仅由货件中涉及的贸易伙伴共享。这种设计选择似乎违背了本文提出的透明度原则。但是，我们认为，当交易产品价值高，危险或可能具有双重用途（例如药品和化学产品）时，有必要保持一定程度的隐私。私人分类帐包括与特定货件相关的托管事件。示例costody事件可以是将货物从供应商转移到承运人或从承运人转移到客户。

第二种分类帐是公共分类帐。建议的框架中只有一个公共分类帐，它包括外部监视器发布的事件以及发布到私有分类帐的所有监管事件的哈希值。监视器是commuters，可以验证卡车的地理位置，然后由贸易伙伴通过私人分类帐中的信息将其与特定货物相关联。commuters增强了跟踪信息的有效性，并支持该信息的伪实时传送。除了监视事件之外，公共分类帐还包括私有监管事件的哈希值。如上所述，custody事件仅由特定于发货的贸易伙伴共享。但是，通过将其哈希值发布到公共分类帐来维护这些事件的公共记录。此公共记录为监护事件提供了额外的验证机制。

**虽然本文侧重于区块链技术在物流管理阶段支持供应链可视性的具体应用**，但它也试图解决完全私有/许可和完全公共/开放区块链架构之间的更广泛鸿沟。任何类型的架构的优点和缺点已在[2]中讨论过。但是，需要对结合两种类型的分类账的信任架构进行更多的研究[3]，特别是在敏感信息的保护至关重要时。

所提出的系统的体系结构是分布式的，并且使用混合的对等通信模型[4,5]。本文特别关注**数据模型和数据表示**。底层数据模型使用EDI-214（电子数据交换）标准[6]翻译成JSON（JavaScript Object Notation）[7]，以保持与现有SC信息系统的互操作性。框架的其他方面，例如与**用户认证和加密密钥管理相关的方面，超出了本文的范围**，因此不再详细讨论。

本文第2部分是对以前相关工作的回顾。第3节介绍了框架，并讨论了用于分类账和基础事件的数据表示，以及支持将这些事件发布到私有和公共分类账的流程。第4节介绍了框架的实现，并使用测试场景举例说明了操作框架。第5节总结了本文，重点介绍了未来工作的主要贡献和总结方向。

## Related Work

本节介绍SC管理系统的演变以及区块链技术及其应用的现有技术状况。

在过去几十年中，在SC管理系统领域取得了重大进展。 ERP（企业资源计划）解决方案的成熟度和采用水平的提高使公司能够有效地管理仓储，订单管理，融资，计费等内部物流流程。此外，对国内和国际贸易的需求不断增加导致B2B的出现（企业对企业）平台由供应链运营网络（SCON）提供支持[1]。这些网络通常以供应商为中心，服务于特定的行业。市售SCON解决方案的例子包括E2Open [8]和SAP（Systems Applications and Products）[9,10]。 SCON可以与组织的ERP集成，并使用标准EDI [6,11]消息传递实现贸易伙伴之间的信息交换（图1）。它们非常有效地将一组目标交易（例如，采购订单和提单）从给定成员暴露给其他贸易伙伴。然而，SCON最近才开始适应从供应商管理的物流到第三方管理的物流的转变。实际上，在过去十年中，大型制造商开始将其物流分销外包给第三方物流运营商[10]。这使制造商能够专注于他们的核心业务。然而，随着国内和国际贸易的扩大，这一趋势创造了复杂的物流网络。为了克服这些复杂性，运输管理系统（TMS）开始从用于车辆跟踪的传统车队管理系统演变为包括诸如装运级跟踪之类的附加服务[12]。我们认为，这种演变仍然受到限制，原因如下：（1）跟踪信息未得到验证，（2）多个运营商的连续性得不到保证;（3）跟踪信息仍由运营商管理，并根据需要进行披露给其他利益相关者对于具有扩展资源和大量产品的一级企业来说，这些限制很容易克服，因为它们可以规定参与规则。中小型企业（SME）产品数量较少，合作伙伴数量较多。因此，由于成本和引入新的SC管理实践的困难[12,14]，这些限制构成了一个主要障碍并限制了中小企业进入不同SCON [13]的机会[12,14]，这反过来又阻碍了它们轻易渗透新的市场。提出的解决方案旨在通过使用紧急区块链技术[15]解决上述障碍并为SC物流配送提供分布式解决方案。

正如[15]中最初提出的，区块链是一个分布式公共数据库（分类帐），它维护着一个不断增长的事务列表，这些事务按块组织并防止被篡改。支持两种类型的交易：创造价值的创世纪交易和将价值从一方转移到另一方的转移交易。每笔交易都由发行人进行数字签名并发布到分类账。然后将一组交易收集到由第三方（矿工）验证的块中。链中的每个块都是不可变的，因为它链接到它的前任，并且对任何块的任何更改都会使链中下游的所有块无效。此外，块越成熟（即，它在分类帐链中越长），其完整性就越大。网络中的每个参与者都会保留分类帐的副本，并且每次创建新块时，都会将其广播给将其添加到分类帐本地副本的所有参与者。

区块链技术引起了大量研究人员的兴趣。最近研究表明，自2014年以来Scopus搜索关键词“区块链”发现了近600篇文章。这是[16,17,18]中提出的结构化文献综述过程的起点。 [2]中提供了这些研究人员提出的各种区块链架构的分类法以及每种架构的优点和局限性。首先，这些信任体系结构可以分为三个主要维度：（1）集中式与分布式; （2）私人/许可与公开/开放; （3）链上与脱链数据存储。

虽然主要是为分布式架构而设计，但区块链技术可以在集中式架构上实现。分布式架构通常采用点对点通信模型[19,20,21]。集中式，基于云的体系结构避免了与分布式体系结构相关的安全性和隐私性挑战，但也忽略了分布式体系结构的预期弹性，分布式治理，可伸缩性和可承受性。 IBM（国际商业机器公司）[22]提供了一个集中的，许可的区块链端到端SC管理系统。 Blockfreight [23]是用于SC容器跟踪的公共分布式区块链解决方案。

区块链分类帐可以是私有（允许）或公共（开放）。私有分类账倾向于通过集中式架构实现，而公共分类账倾向于通过分布式架构实现。除了上述两个例子[22,23]之外，文献中还提出了其他几种私有和公共区块链SC解决方案。实际上，对Scopus的上述搜索进行了改进，附加关键字“供应链”重新调整了大约70篇文章。例如，[24]中的分类账是公开的，并且从中小企业的角度支持SC需求规划中的信息共享。 [25]中提出的分类账是私人的。它支持B2B交易，并促进直接的制造商 - 客户交易和支付服务。通常，区块链技术的SC应用包括原产地证明和可追溯性[24,26]，库存和需求水平共享[25]以及药品[27]和食品[28]的法规执行。

共享敏感信息时，隐私尤为重要。例如，一些公司可能不愿意向竞争对手透露其生产能力[25]。在卫生部门，医疗记录的共享受到严格的隐私规则的约束。私有分类帐架构的另一种方法包括使用离线数据存储而不是链上数据存储。例如，在[29]中，提出了一种区块链分类账，用于共享患者的医疗记录。医疗记录与分类帐分开安全地存储在云上。然后，访问请求将发布到公共分类帐，共识节点负责从此公共分类帐中提取待处理请求，验证这些请求的有效性并将其发布到私有分类帐以实现可跟踪性。

使用完全公共或完全私有的分类帐架构进行信息交换可能无法满足各种应用程序（包括SC应用程序）的要求。需要一种基于协调使用两种类型分类帐的解决方案。敏感数据可以存储在私人分类帐中，而需要高信任级别的数据可以存储在公共分类帐中。这两种类型的分类账可以设计为限制每个利益相关者可以访问的信息，而不依赖于中央治理。建议的框架提倡这种方法，可以在当前的SC物理分发应用之外使用。可以从这种模式中受益的一些新兴应用包括金融，政府服务[30,31]，物联网（物联网）[26]和法规compli

## System Design


## Conclusions

拟议的框架利用分布式数据库，区块链技术和混合对等通信模型，以便以伪实时方式向所有利益相关者提供独立验证的货物跟踪信息。通过组合的私有 - 公共分类帐架构，该解决方案考虑了贸易伙伴的隐私要求，同时为关键决策提供必要的SC可见性。仔细管理区块链应用程序中隐私和透明度之间的权衡对于该技术的广泛采用至关重要。实际上，完全基于公共分类账的解决方案可能对各行各业和公共部门都没有吸引力。同样，许可/私人分类帐限制了该技术的预期效用。本文提出的方法证明了将两种类型的分类账结合起来以实际解决供应链中的差距的潜力。有趣的是，虽然它不是预期的目标，但所提出的模型也可能能够在物理分配阶段记录给定组织的碳足迹。我们还认为，拟议的模型可以扩展到其他应用领域，特别是在食品和制药行业的法规遵从方面。

拟议的框架仅在实验室环境中进行有限规模的测试。当它部署在具有大量节点的网络中时，可能会出现一些挑战。其中一些挑战包括解决块碰撞和分叉问题。目前在该领域有限的研究[16]，需要进一步的研究来理解这些挑战在实践中的意义。

未来工作的其他领域包括了解公共分类帐提供的与监视器数量相关的信任级别。大量监视器将提高信任级别。但是，由于人在环(human in the loop)，这种方法可能无法扩展。潜在的解决方案可能涉及使用V2V（车辆到车辆）技术。这将取决于车辆原始设备制造商（原始设备制造商）采用所提出的方法，并将需要新的政策。

最后，由于大量货物及其不同性质（距离，负荷分担，转运），公共分类账可能会迅速增长。能够智能地修剪分类账以管理其大小是另一个开放的研究领域。可以考虑一组地理划分的公共分类账，其中包括从一个分类账到另一个分类账的合适的交接机制。